{"version":3,"sources":["components/DisplaySearch.js","services/phone.js","components/AddForm.js","App.js","reportWebVitals.js","index.js"],"names":["DisplaySearch","newSearch","searchMatches","persons","map","individual","name","number","filter","person","key","toLowerCase","indexOf","baseUrl","getAll","request","axios","get","console","log","then","response","data","create","newObject","post","update","id","put","catch","remove","delete","phoneService","ErrorNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","Notification","AddForm","newName","newNumber","handleNameChange","handleNumberChange","useState","setPersons","entryState","setEntryState","errorState","setErrorState","useEffect","intialEntries","addPerson","event","preventDefault","listKeys","phoneObject","newEntry","concat","setTimeout","error","String","window","confirm","idFound","removeEntry","target","displayAll","onClick","onSubmit","value","onChange","type","App","setNewName","setNewNumber","setNewSearch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e94b02de.chunk.js","sourcesContent":["import React from 'react'\n\n//Display will return a div with the state of persons that match with search field\nconst DisplaySearch = ( { newSearch, persons } ) => {\n    const people = persons.map((individual) => <li key={individual.name}>{individual.name} {individual.number}</li>)\n    const searchMatches = people.filter((person) => person.key.toLowerCase().indexOf(newSearch.toLowerCase()) !== -1)\n  \n    return (\n      <div>\n        <h2>Search Match Entries</h2>\n        <ol>\n          {searchMatches}\n        </ol>\n      </div>\n    )\n  }\n  \nexport default DisplaySearch","import axios from 'axios'\nconst baseUrl = '/api/persons'\n    // console.log('hereheretest')\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    console.log('hereheretest')\n    return request.then(response => response.data)\n}\n\n// const getAll = () => {\n//     const request = PersonData.find({})\n//     console.log('hereheretest')\n//     console.log(request)\n//     return request\n// }\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    console.log(request)\n    console.log('test')\n    return request.then(response => response.data).catch('did not work')\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    console.log(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n\n}\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n}","import React, {useState, useEffect} from 'react'\nimport DisplaySearch from './DisplaySearch'\n// import DisplayAll from './DisplayAll'\nimport phoneService from '../services/phone'\n\nconsole.log(phoneService)\nconsole.log('test')\n\nconst ErrorNotification = ({ message }) => {\n\n  const error = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 16,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  \n  if (message === null) {\n    return null\n  }\n  return (\n    <div style={error} className=\"error\">\n      {message}\n    </div>\n  )\n}\n\n\n\nconst Notification = ({ message }) => {\n\n  const success = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 16,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  \n  if (message === null) {\n    return null\n  }\n  return (\n    <div style={success} className=\"success\">\n      {'Entry Received'}\n    </div>\n  )\n}\n\n\nconst AddForm = ( { newName, newNumber, handleNameChange, handleNumberChange, newSearch } ) => {\n  const [persons, setPersons] = useState([])\n  const [entryState, setEntryState] = useState(null)\n  const [errorState, setErrorState] = useState(null)\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(intialEntries => {\n        setPersons(intialEntries)\n      })\n  },[])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n\n    phoneService\n    .getAll()\n    .then(intialEntries => {\n      setPersons(intialEntries)\n    })\n    \n    const listKeys = persons.map((person) => person.name)\n    const phoneObject = {\n      name: newName, \n      number: newNumber\n    }\n    console.log('listkeys:')\n    console.log(listKeys)\n    console.log('phoneObject:')\n    console.log(phoneObject)\n\n      //if name is not already in phonebook\n    if (listKeys.indexOf(newName) === -1){ \n      phoneService\n      .create(phoneObject)\n      .then(newEntry => {\n        setPersons(persons.concat(newEntry))\n        setEntryState(true)\n        setTimeout(() => {\n          setEntryState(null)\n        },3000)\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setErrorState(String(error.response.data.error))\n        setTimeout(() => {\n          setErrorState(null)\n        },5000)\n      })\n\n    } else {\n\n\n      let proceed = window.confirm(`proceed to change ${newName}s number?`)\n      \n      if (proceed===true){\n        const findID = () => persons.filter((individual) => {\n            return (newName === individual.name)\n          })\n        const idFound = findID()[0].id\n        console.log(idFound)\n\n        phoneService\n        .update(idFound, phoneObject)\n        .then(newEntry => {\n          console.log('then')\n          console.log(persons, 'test')\n          setPersons(persons.concat(newEntry))\n          console.log(persons)\n          setEntryState(true)\n          setTimeout(() => {\n            setEntryState(null)\n          },3000)\n        })\n        .catch(error => {\n          setErrorState(true)\n          console.log(error)\n          setTimeout(() => {\n            setErrorState(null)\n          },5000)\n\n        })\n        \n      }\n    }\n\n  }\n\n\n  const removeEntry = (event) => {\n    console.log(event.target.id)\n    console.log(persons)\n    const rem = window.confirm(`do you want to delete entry`)\n\n    if (rem === true){\n      phoneService\n      .remove(event.target.id)\n      // .then(entries => {\n      //   setPersons(entries)s\n        // displayAll(persons)\n    setTimeout(function(){\n      phoneService\n      .getAll()\n      .then(intialEntries => {\n        setPersons(intialEntries)\n      })\n      \n    } ,500)\n    }\n\n  }\n\n  const displayAll = () => {\n    console.log(persons)\n    // const personNames = persons.map((person) => person.name)\n    return( \n      persons.map((individual) => {\n        return(\n          <li key={individual.name}>\n            {individual.name} {individual.number}<button id={individual.id} onClick={removeEntry}>delete</button>\n          </li>\n        )\n      })\n    )\n  }\n\n\n  if (errorState !== null) {\n    return (\n      <div>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName} onChange={handleNameChange}/>\n            number:  <input value={newNumber} onChange={handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n            <ErrorNotification message={errorState}/>\n          </div>\n          <div><DisplaySearch newSearch={newSearch} persons={persons}/></div>\n        </form>\n        \n        <ol>\n          {displayAll()}\n        </ol>\n      </div>\n    )\n\n  }\n\n  // DisplayAll()\n  if (entryState === null){\n    return (\n      <div>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName} onChange={handleNameChange}/>\n            number:  <input value={newNumber} onChange={handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n          <div><DisplaySearch newSearch={newSearch} persons={persons}/></div>\n        </form>\n        <h2>All Entries</h2>\n        <ol>\n          {displayAll()}\n        </ol>\n\n        \n        {/* <div><DisplayAll persons={persons} removeEntry={removeEntry}/></div> */}\n  \n      </div>\n    )\n  } else if (entryState === true) {\n    return (\n      <div>\n        <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName} onChange={handleNameChange}/>\n            number:  <input value={newNumber} onChange={handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n            <Notification message={{entryState}}/>\n          </div>\n          <div><DisplaySearch newSearch={newSearch} persons={persons}/></div>\n        </form>\n        <ol>\n          {displayAll()}\n        </ol>\n      </div>\n    )\n  }\n\n\n  \n  \n}\n\nexport default AddForm","import React, { useState } from 'react'\nimport AddForm from './components/AddForm'\n\nconst App = () => {\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    // console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div>\n        search: <input value={newSearch} onChange={handleSearchChange}/>\n      </div>\n      <h2>Add Entry</h2>\n      <div><AddForm newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newSearch={newSearch}/></div>\n    </div>\n  )\n}\n\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}